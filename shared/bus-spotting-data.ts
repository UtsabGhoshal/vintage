export interface BusSpottingRecord {
  id: string;
  regNo: string;
  source: string;
  destination: string;
  type: string;
  model: string;
}

export const busSpottingData: BusSpottingRecord[] = [
  {
    id: '1',
    regNo: 'WMH 0569',
    source: 'BARDDHAMAN',
    destination: 'ARAMBAGH',
    type: 'ROTATION',
    model: '1210'
  },
  {
    id: '2',
    regNo: 'WBU 1860(REEMLY)',
    source: 'Tarakeswar',
    destination: 'KATWA',
    type: 'FIXED(11:40) Tarakeswar',
    model: '1210'
  },
  {
    id: '3',
    regNo: 'WB 53 2193',
    source: 'HEMATPUR',
    destination: 'BOLPUR',
    type: 'FIXED(12:55)HEM',
    model: 'BS1 CHEETAH'
  },
  {
    id: '4',
    regNo: 'WB 41 9256',
    source: 'BARDDHAMAN',
    destination: 'ARAMBAGH',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '5',
    regNo: 'WB 41 6996',
    source: 'BARDDHAMAN',
    destination: 'ARAMBAGH',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '6',
    regNo: 'WB 41A 0546',
    source: 'BARDDHAMAN',
    destination: 'ARAMBAGH',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '7',
    regNo: 'WGA 4371',
    source: 'BARDDHAMAN',
    destination: 'ARAMBAGH',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '8',
    regNo: 'WB 67 0001',
    source: 'BARDDHAMAN',
    destination: 'BERUGRAM',
    type: 'ROTATION',
    model: '1210'
  },
  {
    id: '9',
    regNo: 'WGE 1286',
    source: 'KRISHNANAGAR',
    destination: 'BHAJANGHAT',
    type: 'ROTATION',
    model: '1210'
  },
  {
    id: '10',
    regNo: 'WB 25A 0799',
    source: 'BONGAON',
    destination: 'DUTTAPHULIA',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '11',
    regNo: 'WB 51 0718',
    source: 'KRISHNANAGAR',
    destination: 'RANAGHAT',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '12',
    regNo: 'WB 51 1327',
    source: 'KRISHNANAGAR',
    destination: 'NABADWIP GHAT',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '13',
    regNo: 'WB 15 9436',
    source: 'ASANSOL',
    destination: 'BANKURA',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '14',
    regNo: 'WB 15 0484',
    source: 'Tarakeswar',
    destination: 'GUPTIPARA',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '15',
    regNo: 'WB 41A 4259',
    source: 'KATWA',
    destination: 'SURI',
    type: 'ROTATION',
    model: '1510C R 1510'
  },
  {
    id: '16',
    regNo: 'WB 33 6626',
    source: 'KASHIPUR',
    destination: 'MALIYAN',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '17',
    regNo: 'WB 41 1771',
    source: 'MEMARI MNTSWR',
    destination: 'MALDANGA',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '18',
    regNo: 'WB 33 5949',
    source: 'BANKURA',
    destination: 'RANIGANJ',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '19',
    regNo: 'WB 67 0988',
    source: 'DURGAPUR',
    destination: 'JAMTARIA-BERO',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '20',
    regNo: 'WB 11 8096',
    source: 'BARDDHAMAN',
    destination: 'KURUMBA',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '21',
    regNo: 'WB 67 1266',
    source: 'BARDDHAMAN',
    destination: 'BERUGRAM',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '22',
    regNo: 'WB 41 8182',
    source: 'KALNA',
    destination: 'GURAP',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '23',
    regNo: 'WB 41 7301',
    source: 'BARDDHAMAN',
    destination: 'BARDDHAMAN(TS)',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '24',
    regNo: 'WGD 1873',
    source: 'SURI',
    destination: 'RAJNAGAR',
    type: 'ROTATION',
    model: '1210 R 1510'
  },
  {
    id: '25',
    regNo: 'WMH 3450',
    source: 'BARDDHAMAN',
    destination: 'INDAS',
    type: 'ROTATION',
    model: '1210 R 1510'
  },
  {
    id: '26',
    regNo: 'WB 37 3031',
    source: 'BARDDHAMAN',
    destination: 'JYOTDAKKHON',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '27',
    regNo: 'WBR 4043',
    source: 'KRISHNANAGAR',
    destination: 'DHARMADA',
    type: 'ROTATION',
    model: '1210 R 1312(BS1)'
  },
  {
    id: '28',
    regNo: 'WB 41A 2756',
    source: 'KATWA',
    destination: 'KATWA(TS)',
    type: 'ROTATION',
    model: '1510 R 1510C'
  },
  {
    id: '29',
    regNo: 'WB 41A 2551',
    source: 'KATWA',
    destination: 'BARDDHAMAN',
    type: 'ROTATION',
    model: '1510C R 1510'
  },
  {
    id: '30',
    regNo: 'WGH 8823',
    source: 'KATWA',
    destination: 'DADHIA',
    type: 'ROTATION',
    model: '1210 R 1510C'
  },
  {
    id: '31',
    regNo: 'WB 37 2771',
    source: 'BARDDHAMAN',
    destination: 'BOLPUR',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '32',
    regNo: 'WB 11A 2356',
    source: 'NADIA BUS TRAINING CENTER',
    destination: '',
    type: 'N/A',
    model: '1510'
  },
  {
    id: '33',
    regNo: 'WB 51 0268(SUPER)',
    source: 'KRISHNANAGAR',
    destination: 'Tarakeswar',
    type: 'FIXED(5:10K 12:40T)',
    model: '1510'
  },
  {
    id: '34',
    regNo: 'WB 41 3939',
    source: 'KATWA',
    destination: 'PACHTHUPI',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '35',
    regNo: 'WB 15 1115(ASIF SUPER)',
    source: 'Tarakeswar',
    destination: 'KATWA',
    type: 'ROTATION',
    model: '1510'
  },
  {
    id: '36',
    regNo: 'WMH 1306',
    source: 'KATWA',
    destination: 'BARDDHAMAN',
    type: 'FIXED(13:15K)',
    model: '1510'
  },
  {
    id: '37',
    regNo: 'WGA 4085',
    source: 'KATWA',
    destination: 'MEMARI',
    type: 'F(11:40/15:20)M',
    model: '1210'
  },
  {
    id: '38',
    regNo: 'WB 41 9305',
    source: 'KATWA',
    destination: 'MEMARI',
    type: 'F(11:40/15:20)M',
    model: '1510'
  },
  {
    id: '39',
    regNo: 'WB 41 3492',
    source: 'KATWA',
    destination: 'NATUNHAT',
    type: 'ROTATION',
    model: '1510'
  }
];

export const getUniqueBusStands = () => {
  const busStands = new Set<string>();

  busSpottingData.forEach(bus => {
    busStands.add(bus.source);
    if (bus.destination && bus.destination.trim() !== '') {
      busStands.add(bus.destination);
    }
  });

  return Array.from(busStands).sort();
};

export const getBusesByStand = (busStand: string) => {
  return busSpottingData.filter(bus =>
    bus.source === busStand || bus.destination === busStand
  );
};

export const getUniqueModels = () => {
  const models = new Set<string>();
  
  busSpottingData.forEach(bus => {
    models.add(bus.model);
  });
  
  return Array.from(models).sort();
};

export const getBusCountByStand = () => {
  const countMap = new Map<string, number>();

  busSpottingData.forEach(bus => {
    // Count at source stand
    const currentSource = countMap.get(bus.source) || 0;
    countMap.set(bus.source, currentSource + 1);

    // Count at destination stand (if it exists and is different from source)
    if (bus.destination && bus.destination.trim() !== '' && bus.destination !== bus.source) {
      const currentDest = countMap.get(bus.destination) || 0;
      countMap.set(bus.destination, currentDest + 1);
    }
  });

  return countMap;
};

export const getModelCountByStand = (busStand: string) => {
  const buses = getBusesByStand(busStand);
  const modelCount = new Map<string, number>();
  
  buses.forEach(bus => {
    const current = modelCount.get(bus.model) || 0;
    modelCount.set(bus.model, current + 1);
  });
  
  return modelCount;
};
